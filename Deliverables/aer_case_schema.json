{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "AER Case Schema",
  "type": "object",
  "properties": {
    "data": {
      "type": "object",
      "properties": {
        "detail": {
          "type": "object",
          "properties": {
            "structured": {
              "type": "object",
              "properties": {
                "narrative__v": { "type": ["string", "null"] },
                "case_classification__v": { "type": "string" },
                "serious__v": { "type": "boolean" },
                "seriousness_criteria__v": {
                  "type": "array",
                  "items": { "type": "string" }
                },
                "report_type__v": { "type": "string" },
                "receive_datetime__v": { "type": "string", "format": "date" },
                "receipt_method__v": { "type": "string" },
                "transmission_type__v": { "type": "string" }
              },
              "required": [
                "case_classification__v",
                "serious__v",
                "seriousness_criteria__v",
                "report_type__v",
                "receive_datetime__v",
                "receipt_method__v",
                "transmission_type__v"
              ]
            },
            "patient": {
              "type": "object",
              "properties": {
                "structured": {
                  "type": "object",
                  "properties": {
                    "age_value__v": { "type": "string" },
                    "age_unit__v": { "type": "string" },
                    "gender_value__v": { "type": "string" },
                    "weight__v": { "type": "string" },
                    "weight_unit__v": { "type": "string" },
                    "patient_identifier__v": { "type": "string" }
                  },
                  "required": [
                    "age_value__v",
                    "age_unit__v",
                    "gender_value__v",
                    "weight__v",
                    "weight_unit__v",
                    "patient_identifier__v"
                  ]
                }
              }
            },
            "case_product__v": {
              "type": "object",
              "properties": {
                "structured": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "product_name__v": { "type": "string" },
                      "dose_text__v": { "type": "string" },
                      "firstadmin_idate__v": { "type": "string", "format": "date" },
                      "indication_text__v": { "type": "string" },
                      "dose_unit__v": { "type": "string" },
                      "dose_number__v": { "type": "number" }
                    },
                    "required": [
                      "product_name__v",
                      "dose_text__v",
                      "firstadmin_idate__v",
                      "dose_unit__v",
                      "dose_number__v"
                    ]
                  }
                }
              }
            },
            "case_adverse_event__v": {
              "type": "object",
              "properties": {
                "structured": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "event_reported__v": { "type": "string" },
                      "country__v": { "type": "string" },
                      "onset_idate__v": { "type": "string", "format": "date" },
                      "serious__v": { "type": "boolean" },
                      "outcome__v": { "type": "string" }
                    },
                    "required": [
                      "event_reported__v",
                      "country__v",
                      "onset_idate__v",
                      "serious__v",
                      "outcome__v"
                    ]
                  }
                }
              }
            },
            "case_test_result__v": {
              "type": "object",
              "properties": {
                "structured": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "test_name__v": { "type": "string" },
                      "test_result__v": { "type": "string" },
                      "result_unit__v": { "type": "string" },
                      "qualifier__v": { "type": "string" },
                      "result_date__v": { "type": "string", "format": "date" }
                    },
                    "required": ["test_name__v", "test_result__v", "result_date__v"]
                  }
                }
              }
            },
            "case_contact__v": {
              "type": "object",
              "properties": {
                "structured": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "qualification__v": { "type": "string" },
                      "object_type__v": { "type": "string" },
                      "firstname_value__v": { "type": "string" },
                      "middlename_value__v": { "type": "string" },
                      "lastname_value__v": { "type": "string" }
                    }
                  }
                },
                "metadata": { "type": "object" }
              }
            },
            "parental_case__v": {
              "type": "object",
              "properties": {
                "structured": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "case_medical_history__v": { "type": "array" },
                      "case_drug_history__v": { "type": "array" },
                      "age_value__v": { "type": "string" },
                      "age_unit__v": { "type": "string" },
                      "dob_idate__v": { "type": "string" },
                      "gender_value__v": { "type": "string" },
                      "height_value__v": { "type": "string" },
                      "height_unit__v": { "type": "string" },
                      "patient_id_value__v": { "type": "string" },
                      "last_menstrual_normalized__v": { "type": "string" },
                      "weight_value__v": { "type": "string" },
                      "weight_unit__v": { "type": "string" },
                      "race__v": { "type": "string" },
                      "ethnicity__v": { "type": "string" },
                      "medical_history_text__v": { "type": "string" }
                    }
                  }
                }
              }
            },
            "transmission__v": {
              "type": "object",
              "properties": {
                "structured": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "destination__v": { "type": "string" },
                      "organization__v": { "type": "string" },
                      "transmission_profile__v": { "type": "string" },
                      "first_sender__v": { "type": "string" },
                      "destination_transmission_id__v": { "type": "string" },
                      "origin__v": { "type": "string" },
                      "origin_transmission_id__v": { "type": "string" },
                      "reason_text_long_text__v": { "type": "string" },
                      "sender_comments__v": { "type": "string" },
                      "recipient_user__v": { "type": "string" },
                      "sender_user__v": { "type": "string" }
                    }
                  }
                },
                "metadata": { "type": "object" }
              }
            }
          }
        }
      }
    }
  },
  "required": ["data"]
}
